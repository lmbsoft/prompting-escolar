<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Galp√≥n de la IA</title>
    <meta name="description" content="Recurso educativo para aprender a usar inteligencia artificial generativa con criterio, seguridad y proyectos reales en el campo, el taller y la familia.">
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
        "lucide-react": "https://esm.sh/lucide-react@0.292.0"
      }
    }
    </script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        :root { --text: #0f172a; --bg: #f8fafc; --focus: #0ea5e9; }
        html { font-size: clamp(18px, 1.2vw + 14px, 22px); text-size-adjust: 100%; }
        body { background: var(--bg); color: var(--text); line-height: 1.72; letter-spacing: 0.01em; }
        p, li, label, input, textarea, select, button { font-size: 1rem; }
        h1, h2, h3, h4, h5 { line-height: 1.3; }
        button, input, textarea, select { min-height: 48px; border-radius: 0.75rem; }
        button:focus-visible, a:focus-visible { outline: 3px solid var(--focus); outline-offset: 2px; }
        @media (max-width: 768px) { button, input, textarea, select { min-height: 52px; } }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <div id="root"></div>
    <script type="text/babel" data-type="module">
        import React, { useMemo, useState } from 'react';
        import { createRoot } from 'react-dom/client';
        import {
            BrainCircuit, BookOpen, Target, MessageCircle, Sparkles, CheckCircle2, ChevronLeft, ChevronRight,
            Copy, Check, Lightbulb, ArrowUpRight, Zap
        } from 'lucide-react';

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // DATA: M√ìDULOS DE TEOR√çA (Unificada A + C)
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        const theoryModules = [
            {
                id: 't1', title: 'La IA es como un tractor nuevo', subtitle: 'Mucha fuerza, pero necesita un buen chofer',
                reading: [
                    'Pens√° en la Inteligencia Artificial como en un tractor de √∫ltima generaci√≥n: tiene una fuerza b√°rbara, hace el trabajo pesado en una fracci√≥n del tiempo, pero no sabe qu√© lote hay que sembrar ni a qu√© profundidad va la semilla. Esa decisi√≥n siempre es tuya.',
                    'Un asistente de IA no "piensa". Predice qu√© palabra viene despu√©s de otra bas√°ndose en millones de textos. Es como el repuestero veterano que sabe qu√© pieza le vas a pedir apenas le dec√≠s el modelo del auto.',
                    'Como odont√≥logo y tipo de taller, sab√©s que cada herramienta tiene su uso. La IA es excelente para armar borradores, ordenar listas para el campo, buscar alternativas de repuestos o inventar juegos para los nietos. Pero el control de calidad final lo hac√©s vos.'
                ],
                checklist: ['Dale contexto: decile d√≥nde est√°s y qu√© quer√©s.', 'No le pidas conocimiento perfecto, pedile opciones.', 'Tratala como a un ayudante r√°pido pero sin calle.'],
                practice: 'Pedile a la IA que te explique c√≥mo carburar un motor. Primero as√≠ nom√°s. Despu√©s aclarale que es un auto cl√°sico y que vos ya ten√©s experiencia. Fijate c√≥mo cambia.'
            },
            {
                id: 't2', title: 'El arte de la buena orden (Prompt)', subtitle: 'Si ped√≠s mal en la ferreter√≠a, te dan el tornillo equivocado',
                reading: [
                    'A la instrucci√≥n que le damos se le llama "Prompt". Un buen prompt es como ir a comprar repuestos con la muestra en la mano: no hay margen de error.',
                    'Tiene que tener partes claras: el Rol (qui√©n quer√©s que sea), la Tarea (qu√© hacer), el Contexto (para qu√©), el Formato (c√≥mo entregarlo) y los L√≠mites (qu√© NO hacer).',
                    'Ejemplo flojo: "Haceme una rutina para el finde". Ejemplo ajustado: "Actu√° como un abuelo divertido. Dise√±ame 3 actividades al aire libre para hacer el s√°bado con mis nietos de 6 y 8 a√±os en un campo. Que no requieran pantallas y duren 40 minutos".'
                ],
                checklist: ['Asignale un rol de experto ("Actu√° como un mec√°nico").', 'D√° todo el contexto necesario.', 'Ped√≠ un formato claro (una lista, un cuadro).', 'Pon√© l√≠mites claros (qu√© NO quer√©s).'],
                practice: 'Pens√° en algo que quieras arreglar. Escrib√≠ un pedido d√°ndole el ROL de experto, cont√°ndole las herramientas que ten√©s y pidiendo el paso a paso en LISTA.'
            },
            {
                id: 't3', title: 'No te comas el amague (Las alucinaciones)', subtitle: 'Cuando la IA manda fruta y suena convincente',
                reading: [
                    'La IA es a veces como ese pescador que, para no quedarse callado, te inventa una respuesta con total seguridad. A esto se le llama "alucinaci√≥n".',
                    'NUNCA uses la IA como enciclopedia para datos exactos (dosis m√©dicas, agroqu√≠micos, especificaciones de torque cr√≠ticas).',
                    'Una buena t√©cnica es decirle en el pedido: "Si no sab√©s la respuesta exacta, decime \'No lo s√©\', no inventes". Tu oj√≠metro rural y cl√≠nico es el filtro final.'
                ],
                checklist: ['Cuidado con la informaci√≥n precisa: sospech√° si suena demasiado perfecto.', 'Avisale que no invente datos.', 'No le conf√≠es decisiones cr√≠ticas de salud o inversiones.'],
                practice: 'Preguntale algo muy espec√≠fico local (ej: cu√°l es el mejor viento para ir a pescar al faro de Monte Hermoso). Le√© la respuesta y f√≠jate d√≥nde acierta y d√≥nde inventa.'
            },
            {
                id: 't4', title: 'Conversar como quien acomoda el taller', subtitle: 'Una charla por partes rinde m√°s que pedir todo junto',
                reading: [
                    'No intentes resolver un problema gigante en una sola pregunta. Pensalo como desarmar un motor: primero sac√°s la tapa, despu√©s ves las v√°lvulas.',
                    'Con la IA, el primer mensaje tiene que tantear el panorama: "Hagamos un plan de mejoras para el campo, pero primero dame las 3 √°reas de enfoque". Luego profundiz√°s la que te sirva.',
                    'Si te responde algo que no te gusta, frenala y corregila sin asco: "No me sirve ese enfoque, pensalo para clima seco".'
                ],
                checklist: ['Divid√≠ el problema grande en preguntas chicas.', 'Pedile primero un esquema, luego desarroll√°.', 'Correg√≠ el rumbo en el momento si se desv√≠a.'],
                practice: 'Pedile: "Quiero restaurar una mesa vieja. No me des el paso a paso todav√≠a. Decime solo qu√© 3 preguntas me har√≠as para saber por d√≥nde arrancar".'
            },
            {
                id: 't5', title: 'Seguridad: Cuidando la tranquera digital', subtitle: 'Proteger tus datos y evitar estafas',
                reading: [
                    'Regla de oro: No compartas documento, direcci√≥n, claves, patentes, ni datos m√©dicos de pacientes o amigos. Si necesit√°s ayuda con un caso, anonimiz√° (us√° "Paciente A", "un amigo de 60 a√±os").',
                    'La IA te puede ayudar a detectar fraudes. Si te llega un mensaje raro pidiendo plata, pod√©s pegarlo (sin nombres) y pedirle: "Analiz√° si este texto tiene patrones de estafa digital".'
                ],
                checklist: ['Anonimizar antes de preguntar.', 'Cero claves y cero datos bancarios.', 'Usar la IA como filtro antifraude ante dudas.'],
                practice: 'Pens√° en una consulta cl√≠nica o legal que har√≠as y reescribila usando solo "una persona", "en tal zona", ocultando toda identidad.'
            },
            {
                id: 't6', title: 'Legado, familia y uso saludable', subtitle: 'Que el motor no se pase de vueltas',
                reading: [
                    'La IA sirve para organizar asados de la pe√±a, inventar b√∫squedas del tesoro para los nietos o incluso organizar tus recuerdos. "Tengo fotos viejas del abuelo en el campo, ayudame a armar una entrevista para mis t√≠os y recuperar esa historia".',
                    'Pero record√°: la IA prepara el terreno, vos lo viv√≠s. Si la us√°s para evitar hablar con alguien ("escribile a mi amigo porque me da pereza"), baj√° un cambio. Que la herramienta sume, no que te a√≠sle.'
                ],
                checklist: ['Usarla para facilitar encuentros reales (listas de compras, juegos).', 'Ideal para ordenar memorias y fotos viejas.', 'Cerrar la pantalla e ir a ensuciarse las manos.'],
                practice: 'Pedile a la IA que te arme 10 preguntas para hacerle a un familiar mayor sobre c√≥mo era la vida en el pueblo antes, y usalas en el pr√≥ximo asado.'
            }
        ];

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // DATA: GIMNASIO DE PROMPTS (Categor√≠as de la Versi√≥n A + Volumen)
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        const promptLevels = [
            { id: 'taller', label: `Nivel 1: Trabajos R√°pidos en Taller`, hint: `Cosas de todos los d√≠as, listas, cuentos y arreglos simples.` },
            { id: 'campo', label: `Nivel 2: Tareas del Campo y la Cl√≠nica`, hint: `Organizar ideas m√°s grandes, planificar compras o diagn√≥sticos de maquinaria.` },
            { id: 'proyectos', label: `Nivel 3: Proyectos y Legado`, hint: `Para planear cosas que llevan tiempo, desde restauraci√≥n hasta viajes de pesca o memorias.` }
        ];

        const promptItems = [
            // TALLER
            { id: 'p1', level: 'taller', domain: `Mec√°nica`, title: `Diagn√≥stico de ruido motor`, objective: `Ideas sobre ruidos raros en el auto antes de desarmar.`, badPrompt: `El auto hace un ruido met√°lico, ¬øqu√© es?`, badReason: `Muy gen√©rico. La IA inventar√° causas sin saber tu nivel ni el auto.`, enhancedPrompt: `Actu√° como un mec√°nico con 30 a√±os de taller. Mi auto (un [modelo y a√±o]) est√° haciendo un ruido [describir ruido]. Tirame las 3 causas m√°s probables de m√°s a menos grave, y decime c√≥mo puedo chequear la m√°s simple en el garaje de mi casa.`, why: `Te da opciones pr√°cticas y un primer paso realizable.` },
            { id: 'p2', level: 'taller', domain: `Familia`, title: `Cuento nocturno r√°pido`, objective: `Armar una historia r√°pida para dormir a los nietos.`, badPrompt: `Invent√° un cuento para nenes.`, badReason: `Saldr√° un cuento gen√©rico y aburrido.`, enhancedPrompt: `Actu√° como un abuelo contador de historias. Escrib√≠ un cuento corto (3 minutos) donde mis nietos [nombres] encuentran un mapa del tesoro escondido en mi vieja caja de pesca. Us√° lenguaje argentino, cercano y que termine con un final tranquilo para dormir.`, why: `Combina diversi√≥n a medida con un resultado instant√°neo.` },
            { id: 'p3', level: 'taller', domain: `Pesca`, title: `Estado de la marea y el viento`, objective: `Entender c√≥mo pega el clima en la pesca de hoy.`, badPrompt: `¬øSe puede pescar hoy en Monte Hermoso?`, badReason: `No sabe qu√© tipo de pesca hac√©s ni desde d√≥nde.`, enhancedPrompt: `Explicame c√≥mo afecta el viento [direcci√≥n y nudos] a la pesca variada de costa en la zona de Monte Hermoso hoy. Dame 3 tips r√°pidos sobre qu√© plomada y l√≠nea me conviene armar.`, why: `Traduce datos del clima en decisiones pr√°cticas para la caja de pesca.` },
            { id: 'p4', level: 'taller', domain: `Odontolog√≠a`, title: `Mensaje de control a un amigo`, objective: `Avisar a pacientes amigos sin parecer un cobrador.`, badPrompt: `Escribile a Ra√∫l que venga al dentista.`, badReason: `Puede sonar muy formal o rob√≥tico.`, enhancedPrompt: `Actu√° como un odont√≥logo de confianza. Necesito mandarle un WhatsApp a mi amigo que hace un a√±o no viene a hacerse una limpieza. Redactalo informal y con humor, pero record√°ndole que es importante. Dale 2 opciones de texto.`, why: `Te ahorra pensar c√≥mo pedirle a un amigo que se cuide la boca sin sonar pesado.` },
            { id: 'p5', level: 'taller', domain: `Mec√°nica`, title: `Duda con manual en ingl√©s`, objective: `Traducir y entender un manual t√©cnico de despiece.`, badPrompt: `Traduc√≠ esto: [texto]`, badReason: `Traducir√° literal, perdiendo la jerga de taller.`, enhancedPrompt: `Actu√° como mec√°nico traductor. Tengo este p√°rrafo del manual de un motor viejo en ingl√©s: "[pegar texto]". Traducilo al espa√±ol de taller argentino, y decime r√°pido qu√© herramientas necesito para hacer lo que dice.`, why: `Salva la barrera del idioma adaptando los t√©rminos a lo que ten√©s en el galp√≥n.` },
            { id: 'p6', level: 'taller', domain: `Cotidiano`, title: `Redactar aviso de venta de fierros`, objective: `Vender una herramienta usada por WhatsApp.`, badPrompt: `Hac√© un aviso para vender una soldadora.`, badReason: `Falta contexto de uso y tono de venta entre conocidos.`, enhancedPrompt: `Quiero vender una soldadora inversora usada [Marca/Modelo]. Escribime un aviso corto para un grupo de WhatsApp de la zona. Destac√° que tiene poco uso, que la cambio por una m√°s grande, y que el precio se charla si la vienen a probar. Tono directo de compra-venta de fierros.`, why: `Te saca de encima la pereza de redactar el texto de venta.` },

            // CAMPO
            { id: 'p7', level: 'campo', domain: `Agro`, title: `Checklist de tareas de temporada`, objective: `Ordenar tareas del campo sin depender de la memoria.`, badPrompt: `Dame tareas para hacer en el campo.`, badReason: `No sabe qu√© tipo de campo es ni en qu√© zona est√°s.`, enhancedPrompt: `Act√∫a como asesor pr√°ctico rural. Necesito una checklist de tareas por temporada para un establecimiento en el sudoeste bonaerense con algo de trigo y animales. Formato: lista por mes, con prioridades y qu√© tareas puedo delegar cuando estoy en la cl√≠nica.`, why: `Da un marco para organizar el trabajo mixto (ciudad/campo).` },
            { id: 'p8', level: 'campo', domain: `Mec√°nica`, title: `Plan pre-VTV camioneta`, objective: `Revisi√≥n casera antes de la t√©cnica.`, badPrompt: `Qu√© revisan en la VTV.`, badReason: `Te dar√° un texto legal aburrido.`, enhancedPrompt: `Tengo que llevar la Pick-up modelo [A√±o/Marca] a la VTV. Armame un checklist de 10 puntos cr√≠ticos que puedo revisar yo mismo en el galp√≥n este fin de semana para no rebotar por pavadas. Orden√° de lo m√°s sucio a lo m√°s limpio.`, why: `Organiza tu propia revisi√≥n ahorrando tiempo y sorpresas.` },
            { id: 'p9', level: 'campo', domain: `Log√≠stica`, title: `Asado y pesca con la pe√±a`, objective: `Calcular comida y log√≠stica para varios.`, badPrompt: `Lista de compras para asado para 5.`, badReason: `Falta el contexto de que es una salida de pesca (comodidad).`, enhancedPrompt: `Vamos a ir a pescar a la laguna 5 tipos de buen comer. Haceme la lista exacta de supermercado para un asado completo (carne, achuras, bebida, le√±a) y tirame 3 ideas de 'picada de lancha' que no ensucien mucho las manos ni requieran cubiertos.`, why: `Delega la matem√°tica de las compras a la IA.` },
            { id: 'p10', level: 'campo', domain: `Agro`, title: `Identificar plaga o maleza`, objective: `Reconocer una maleza rara en el lote.`, badPrompt: `Hay un yuyo con espinas, ¬øqu√© es?`, badReason: `Falta descripci√≥n visual y ubicaci√≥n geogr√°fica.`, enhancedPrompt: `Actu√° como perito agr√≥nomo. Encontr√© una maleza rara en mi lote en [Zona]. Tiene [describir hojas, flor, espinas]. Tirame las 3 opciones m√°s probables para buscar fotos en Google, y fijate si tu base de datos dice que es t√≥xica para el ganado.`, why: `Filtra r√°pido cuando est√°s caminando el lote.` },
            { id: 'p11', level: 'campo', domain: `Familia`, title: `Actividades en el campo`, objective: `Entretener a los nietos todo el s√°bado sin internet.`, badPrompt: `Juegos para chicos en el campo.`, badReason: `Te puede dar juegos que requieren comprar cosas.`, enhancedPrompt: `Voy a estar en el campo de 10 a 18hs con mis dos nietos de [edad 1] y [edad 2]. Armame un cronograma realista con 4 actividades al aire libre que no requieran se√±al de celular, que usen cosas del galp√≥n (sogas, maderas), que los cansen pero sean seguras.`, why: `Convierte un d√≠a plano en una aventura sin inventar de cero.` },
            { id: 'p12', level: 'campo', domain: `Salud`, title: `Aclarar mito a un paciente/amigo`, objective: `Explicar algo cl√≠nico de forma simple usando analog√≠as.`, badPrompt: `Explic√° por qu√© el bicarbonato hace mal a los dientes.`, badReason: `Usar√° jerga odontol√≥gica incomprensible.`, enhancedPrompt: `Un amigo me pregunta en un asado si es verdad que "el bicarbonato blanquea". Explicame en 2 p√°rrafos cortos, usando una analog√≠a de mec√°nica o campo (como pulir un faro o despintar chapa), por qu√© usarlo puro raya el esmalte, as√≠ se lo explico en su idioma.`, why: `Te da met√°foras r√°pidas para explicar ciencia.` },

            // PROYECTOS
            { id: 'p13', level: 'proyectos', domain: `Pesca`, title: `Planificaci√≥n embarcada de varios d√≠as`, objective: `Log√≠stica completa para un viaje a la costa.`, badPrompt: `Armame el viaje de pesca de 3 d√≠as.`, badReason: `Va a inventar un itinerario tur√≠stico.`, enhancedPrompt: `Vamos a salir a pescar embarcados 3 d√≠as por Monte Hermoso con 3 amigos. Armame un plan dividido en: 1) Revisiones de la lancha previas al viaje, 2) Checklist de seguridad obligatoria, 3) Estrategia de pesca por d√≠a seg√∫n mareas supuestas. No detalles cada punto todav√≠a, solo dame la estructura.`, why: `Avanza paso a paso (evita alucinaciones).` },
            { id: 'p14', level: 'proyectos', domain: `Mec√°nica`, title: `Restauraci√≥n de tractor antiguo`, objective: `Estructurar pasos para arreglar una reliquia.`, badPrompt: `C√≥mo arreglo un tractor viejo.`, badReason: `Proyecto inabarcable en una sola respuesta.`, enhancedPrompt: `Quiero restaurar un tractor viejo [Marca/Modelo] que lleva 10 a√±os parado. Mi presupuesto es bajo y voy a hacer el trabajo manual yo mismo los domingos. Divid√≠ este proyecto en 4 grandes etapas. ¬øCu√°l deber√≠a ser la Fase 1 y qu√© 3 herramientas cr√≠ticas necesito para arrancar?`, why: `Corta un proyecto intimidante en partes manejables.` },
            { id: 'p15', level: 'proyectos', domain: `Familia`, title: `Manual de la casa para nietos`, objective: `Dejar instrucciones de seguridad divertidas.`, badPrompt: `Reglas de seguridad para el campo.`, badReason: `Saldr√° un manual aburrido que los chicos no leer√°n.`, enhancedPrompt: `Quiero escribir un "Manual del Explorador" para cuando mis nietos vienen al campo. Redact√° reglas de seguridad (ej: no acercarse al molino, no tocar herramientas) pero escritas como misiones de aventura, no como retos de adulto gru√±√≥n. Haceme los primeros 3 art√≠culos.`, why: `Reformatea reglas aburridas en algo genial.` },
            { id: 'p16', level: 'proyectos', domain: `Odontolog√≠a`, title: `Estrategia de jubilaci√≥n progresiva`, objective: `Ir cerrando a pacientes sin perder a los hist√≥ricos.`, badPrompt: `C√≥mo me jubilo del consultorio.`, badReason: `Te dar√° consejos financieros est√°ndar.`, enhancedPrompt: `Tengo el consultorio hace 30 a√±os pero quiero bajar el ritmo y quedarme solo para los amigos o urgencias. No quiero cerrar abruptamente. Actu√° como asesor profesional maduro. Sugerime una estrategia simple a 12 meses, y un texto amable por WhatsApp para derivar a los que me exigen turnos pero no quiero seguir viendo.`, why: `Planifica una transici√≥n emocional y laboral compleja.` },
            { id: 'p17', level: 'proyectos', domain: `Legado`, title: `Archivo narrativo de la familia`, objective: `Organizar fotos e historias familiares.`, badPrompt: `Qu√© hago con fotos viejas.`, badReason: `Te dir√° que las escanees.`, enhancedPrompt: `Tengo cajas de fotos familiares y herramientas antiguas del abuelo. Quiero crear un archivo narrativo. Dise√±√° la estructura del documento en secciones (or√≠genes, oficios, an√©cdotas del campo, crisis superadas). Para cada secci√≥n inclu√≠ 3 preguntas gu√≠a para hacerles a mis t√≠os en el pr√≥ximo asado.`, why: `Transforma recuerdos dispersos en patrimonio familiar.` },
            { id: 'p18', level: 'proyectos', domain: `Seguridad`, title: `Filtro contra alucinaciones t√©cnicas`, objective: `Forzar a la IA a verificar su exactitud.`, badPrompt: `D√≥nde van las arandelas de la caja de cambios del Massey.`, badReason: `Si no sabe, puede inventar y arruinar√°s la caja.`, enhancedPrompt: `Tengo una caja manual desarmada de [Veh√≠culo]. Me sobran 2 arandelas y no s√© de qu√© lado van. Busc√° en tu base de datos. IMPORTANTE: Si no ten√©s el diagrama exacto de este modelo, no inventes. Decime expl√≠citamente "Necesito el manual de despiece".`, why: `Muestra la t√©cnica de ponerle "frenos" a la Inteligencia Artificial.` }
        ];

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // DATA: HISTORIAS DE USO REALISTA
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        const stories = [
            {
                id: 's1', title: `La bomba seca un domingo a la tarde`, focus: `Mec√°nica y urgencias`,
                context: `Falla la bomba de agua. Un diagn√≥stico paso a paso para zafar con cosas del galp√≥n.`,
                conversation: [
                    { role: 'usuario', text: `La bomba del molino anda pero no chupa agua, y yo veo que la manguera abajo est√° bien. Actu√° como un mec√°nico viejo, hablemos paso a paso. ¬øQu√© puede ser?` },
                    { role: 'ia', text: `Si abajo est√° bien, es arriba. Puede ser: 1) Entr√≥ aire por la empaquetadura, 2) El cuero interno se gast√≥, 3) El resorte se quebr√≥. Desarm√° la tapa y decime qu√© ves.` },
                    { role: 'ajuste', text: `El resorte est√° partido al medio. No tengo repuesto hoy domingo y el pueblo est√° lejos. ¬°Dame ideas provisorias con cosas del taller para aguantar hasta el martes!` },
                    { role: 'ia', text: `Para aguantar: 1) Cort√° un resorte viejo de amortiguador de silla. 2) Arm√° sin resorte agregando 2 arandelas de suplemento al eje (bombear√° con menos caudal). 3) Trab√° la v√°lvula con un alambre galvanizado r√≠gido dej√°ndola semifija.` },
                    { role: 'resultado', text: `Resultado: Cort√≥ el resorte de un sill√≥n viejo de jard√≠n, arm√≥ la bomba, y la casa tuvo agua hasta que abri√≥ la ferreter√≠a.` }
                ],
                reusablePrompt: `Actu√° como un experto en mec√°nica pr√°ctica. Tengo este problema urgente: [Describir problema]. Diagnostiquemos de a un paso. ¬øQu√© 3 cosas miro primero?`
            },
            {
                id: 's2', title: `Cobrarle las coronas a un compa√±ero de caza`, focus: `Odontolog√≠a y amistades`,
                context: `Avisar que el laboratorio subi√≥ los precios sin que suene a cobrador.`,
                conversation: [
                    { role: 'usuario', text: `Tengo que mandarle un WhatsApp a Ra√∫l, un amigo. Sus coronas de porcelana ya est√°n. El laboratorio subi√≥ el costo un 30% y se lo tengo que avisar. Escribilo directo pero profesional.` },
                    { role: 'ia', text: `¬°Hola Ra√∫l! Te aviso que llegaron las coronas. Un tema importante: el laboratorio ajust√≥ los precios un 30% por materiales importados, la cuota queda en [Monto]. Pasate el martes a las 18. ¬°Un abrazo!` },
                    { role: 'ajuste', text: `Sacale la parte de "materiales importados" que suena a excusa barata. Y en vez de "un abrazo" pon√© "nos vemos el s√°bado en el campo".` },
                    { role: 'ia', text: `¬°Hola Ra√∫l! Te aviso que llegaron las coronas, ¬°quedaron impecables! Un tema para no tener sorpresas: hubo un ajuste del 30% en costos de laboratorio, as√≠ que el total queda en [Monto]. Avisame si te complica o pasate directo el martes a las 18. Nos vemos el s√°bado en el campo.` },
                    { role: 'resultado', text: `Resultado: Mensaje claro, conservando la amistad y sin perder plata.` }
                ],
                reusablePrompt: `Tengo que comunicar un mensaje sobre dinero/costos a una persona cercana. Redactame un mensaje de WhatsApp emp√°tico y al grano. Dame 2 opciones.`
            },
            {
                id: 's3', title: `Controlando la sanata del pescador digital`, focus: `Pesca y alucinaciones`,
                context: `Buscando un nudo espec√≠fico, se frena a la m√°quina para que no invente.`,
                conversation: [
                    { role: 'usuario', text: `Voy a pescar a un banco de piedras. ¬øConoc√©s el "Nudo de escape para piedra"? Si no existe, decime "no lo s√©", no inventes variaciones raras.` },
                    { role: 'ia', text: `No lo s√©, no existe un nudo est√°ndar con ese nombre. Lo que s√≠ se usa en piedra es un "nudo fusible" (juntar la plomada con una tanza m√°s fina para que al tirar se corte solo el plomo).` },
                    { role: 'ajuste', text: `Esa es buena. Explicame r√°pido c√≥mo se ata el plomo usando ese m√©todo fusible.` },
                    { role: 'ia', text: `1. Hac√©s un lazo pasante en tu l√≠nea madre. 2. Agarr√°s tanza fina. 3. At√°s la fina al plomo con nudo barrilito, y el otro extremo al lazo. La tensi√≥n de quiebre recae en ese tramo.` },
                    { role: 'resultado', text: `Resultado: Fren√≥ a la m√°quina antes de que mienta, descubri√≥ la t√©cnica correcta y salv√≥ la l√≠nea.` }
                ],
                reusablePrompt: `Busc√° sobre el siguiente tema t√©cnico: [Escribir Tema]. IMPORTANTE: Si la soluci√≥n no es un est√°ndar comprobado o no sab√©s, decime expl√≠citamente "No lo s√©", no inventes.`
            },
            {
                id: 's4', title: `Rescate mec√°nico bajo la tormenta`, focus: `Familia y creatividad`,
                context: `D√≠a de lluvia en el campo. Los nietos aburridos con la tablet.`,
                conversation: [
                    { role: 'usuario', text: `Afuera hay temporal. Tengo a mis nietos (6 y 9) con los jueguitos. Inventame una "b√∫squeda del tesoro" corta adentro de la casa. Tengo linternas, hilos, y un chocolate. Que la historia sea que somos mec√°nicos y perdimos la llave del tractor del abuelo. 4 pistas.` },
                    { role: 'ia', text: `Pista 1 (La entreg√°s vos): "¬°Perdimos la llave del tractor! Tomen las linternas. El dato lo tiene la caja helada que guarda las gaseosas".\nPista 2 (En la heladera): "Los ratones se la llevaron. Sigan el hilo rojo hasta donde el abuelo lee".\nPista 3 (Bajo tu sill√≥n): "¬°Casi! Busquen en la cueva de los zapatos embarrados".\nPista 4 (En tus botas): "¬°Aqu√≠ est√° la llave! El repuesto de energ√≠a (chocolate) est√° en la cocina".` },
                    { role: 'resultado', text: `Resultado: Cortaron la pantalla, corrieron 30 minutos y comieron chocolate en equipo.` }
                ],
                reusablePrompt: `Actu√° como animador infantil. Mis nietos de [edades] est√°n aburridos en casa. Tengo a mano [objetos]. Inventame un juego f√≠sico de 20 minutos con tem√°tica de [mec√°nicos/campo/piratas].`
            },
            {
                id: 's5', title: `Injerto en el Massey Ferguson`, focus: `Ingenier√≠a y riesgos`,
                context: `Validar una idea loca del galp√≥n con la IA actuando de "abogado del diablo".`,
                conversation: [
                    { role: 'usuario', text: `Quiero adaptarle una manguera de retorno de gasoil a la tapa del tanque de mi Massey Ferguson para cebarlo m√°s f√°cil. Actu√° como ingeniero mec√°nico experto. ¬øCu√°les son las 3 peores cosas que podr√≠an pasar si lo hago mal?` },
                    { role: 'ia', text: `1) Si no sella herm√©ticamente, entra humedad, condensa agua y pudre toberas. 2) Si us√°s manguera cristalina com√∫n, el gasoil la derrite. 3) Presi√≥n excesiva cerca de la tapa sin venteo escupir√° combustible.` },
                    { role: 'ajuste', text: `Sobre el 1: si perforo la tapa met√°lica y pongo espiga de bronce, ¬øqu√© sellador qu√≠mico aguanta gasoil y fr√≠o polar sin despegarse?` },
                    { role: 'ia', text: `Descart√° siliconas (el gasoil las deshace). Us√° Poxipol 10 minutos rayando bien el bronce, o Loctite 518 (forma juntas rojo). Asegurate que la tuerca interior sea autofrenante para que la vibraci√≥n no la suelte dentro del tanque.` },
                    { role: 'resultado', text: `Resultado: Termin√≥ el injerto de forma duradera y a la primera, sin romper el tractor.` }
                ],
                reusablePrompt: `Quiero inventar/modificar [explicar idea] usando [materiales]. Actu√° como ingeniero pesimista: decime los 3 riesgos fatales que no estoy viendo.`
            }
        ];

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // DATA: DESAF√çOS COGNITIVOS (Adaptados al perfil)
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        const challengesData = [
            {
                id: 'c1', type: 'memoryPairs', title: `Pares del Taller`, description: `Encontr√° los conceptos que van juntos.`,
                pairs: [
                    ['Prompt', 'Orden de trabajo a la IA'],
                    ['Contexto', 'Datos de tu lote o motor'],
                    ['Iteraci√≥n', 'Corregir el rumbo de la charla'],
                    ['Alucinaci√≥n', 'Sanata digital convincente'],
                    ['Anonimizar', 'No poner el nombre del paciente'],
                    ['Checklist', 'Lista de revisi√≥n de la chata']
                ]
            },
            {
                id: 'c2', type: 'spotDifference', title: `Afinando la carburaci√≥n del prompt`, description: `¬øPor qu√© la segunda versi√≥n es mejor?`,
                comparisons: [
                    {
                        weak: `Haceme una lista para revisar el auto.`,
                        strong: `Necesito un checklist de 10 puntos cr√≠ticos para revisar mi Pick-up en el galp√≥n antes de la VTV. Orden√° de lo m√°s sucio a lo m√°s limpio.`,
                        options: [
                            'Usa palabras en ingl√©s.',
                            'Le da contexto espec√≠fico (Pick-up, VTV, Galp√≥n) y un formato de orden l√≥gico.',
                            'Es m√°s larga.'
                        ],
                        correct: 1, improvement: `El contexto y el l√≠mite de "10 puntos" evitan que la IA te d√© un manual gen√©rico de 50 p√°ginas.`
                    },
                    {
                        weak: `¬øQu√© es este yuyo con espinas?`,
                        strong: `Encontr√© una maleza rara en mi lote de Coronel Dorrego. Tiene hojas dentadas y espinas blancas. Tirame las 3 opciones m√°s probables para buscar fotos.`,
                        options: [
                            'Suena m√°s profesional.',
                            'Pide 3 opciones en lugar de exigir una verdad absoluta que la IA podr√≠a inventar.',
                            'Incluye el nombre de la ciudad.'
                        ],
                        correct: 1, improvement: `Al pedir opciones para luego chequear fotos, neutraliz√°s el riesgo de que la IA alucine una plaga que no existe.`
                    }
                ]
            },
            {
                id: 'c3', type: 'intruder', title: `Cuidando la tranquera`, description: `¬øQu√© dato NO le deber√≠as pasar a la IA para un tr√°mite o consulta?`,
                groups: [
                    { items: ['Kilometraje del tractor', 'Marca de la herramienta', 'N√∫mero de DNI y Clave Fiscal', 'Edad aproximada de un paciente'], intruder: 2, reason: `Nunca compartas informaci√≥n financiera, claves o documentos gubernamentales con la IA.` }
                ]
            }
        ];

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // COMPONENTES DE DESAF√çOS
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        const MemoryPairsGame = ({ data, onReset }) => {
            const [cards, setCards] = useState(() => data.pairs.flatMap((pair, i) => [{ id: i * 2, pairId: i, text: pair[0] }, { id: i * 2 + 1, pairId: i, text: pair[1] }]).sort(() => Math.random() - 0.5));
            const [revealed, setRevealed] = useState([]);
            const [matched, setMatched] = useState([]);
            const [moves, setMoves] = useState(0);
            const [checking, setChecking] = useState(false);

            const handleFlip = (cardId) => {
                if (checking || revealed.includes(cardId) || matched.includes(cardId)) return;
                const newRevealed = [...revealed, cardId];
                setRevealed(newRevealed);
                if (newRevealed.length === 2) {
                    setMoves(m => m + 1);
                    setChecking(true);
                    const c1 = cards.find(c => c.id === newRevealed[0]);
                    const c2 = cards.find(c => c.id === newRevealed[1]);
                    if (c1.pairId === c2.pairId) {
                        setTimeout(() => { setMatched(p => [...p, c1.id, c2.id]); setRevealed([]); setChecking(false); }, 700);
                    } else {
                        setTimeout(() => { setRevealed([]); setChecking(false); }, 1200);
                    }
                }
            };

            const allDone = matched.length === cards.length;
            return (
                <div>
                    <div className="grid grid-cols-2 md:grid-cols-3 gap-3 mb-4">
                        {cards.map(card => {
                            const isUp = revealed.includes(card.id) || matched.includes(card.id);
                            const isDone = matched.includes(card.id);
                            return (
                                <button key={card.id} onClick={() => handleFlip(card.id)}
                                    className={`p-3 rounded-xl border-2 min-h-[72px] text-center transition-all font-medium text-sm ${isDone ? 'bg-emerald-100 border-emerald-400 text-emerald-800' : isUp ? 'bg-indigo-100 border-indigo-400 text-indigo-800' : 'bg-white border-slate-300 hover:border-indigo-400 hover:bg-indigo-50 text-slate-400'}`}>
                                    {isUp ? card.text : '?'}
                                </button>
                            );
                        })}
                    </div>
                    {allDone && (
                        <div className="text-center p-4 bg-emerald-50 rounded-xl border border-emerald-200">
                            <p className="text-emerald-800 font-bold">üéâ ¬°Completado en {moves} intentos!</p>
                            <button onClick={onReset} className="mt-3 px-4 py-2 bg-emerald-600 text-white rounded-lg">Jugar de nuevo</button>
                        </div>
                    )}
                </div>
            );
        };

        const SpotDifferenceGame = ({ data, onReset }) => {
            const [qi, setQi] = useState(0);
            const [picked, setPicked] = useState(null);
            const [score, setScore] = useState(0);
            const c = data.comparisons[qi];
            const done = qi >= data.comparisons.length;

            const pick = (i) => { if (picked !== null) return; setPicked(i); if (i === c.correct) setScore(s => s + 1); };
            const next = () => { setPicked(null); setQi(i => i + 1); };

            if (done) return (
                <div className="text-center p-4 bg-emerald-50 rounded-xl border border-emerald-200">
                    <p className="text-emerald-800 font-bold">üéâ {score} de {data.comparisons.length} correctas.</p>
                    <button onClick={onReset} className="mt-3 px-4 py-2 bg-emerald-600 text-white rounded-lg">Reiniciar</button>
                </div>
            );

            return (
                <div>
                    <div className="grid md:grid-cols-2 gap-4 mb-4 text-sm">
                        <div className="p-4 bg-rose-50 rounded-xl border border-rose-200">
                            <p className="font-bold text-rose-600 mb-1">‚ùå Versi√≥n d√©bil</p>
                            <p className="text-rose-900 italic">"{c.weak}"</p>
                        </div>
                        <div className="p-4 bg-emerald-50 rounded-xl border border-emerald-200">
                            <p className="font-bold text-emerald-600 mb-1">‚úÖ Versi√≥n mejorada</p>
                            <p className="text-emerald-900 italic">"{c.strong}"</p>
                        </div>
                    </div>
                    <p className="font-bold mb-3">¬øQu√© mejor√≥?</p>
                    <div className="space-y-2 mb-4">
                        {c.options.map((opt, i) => (
                            <button key={i} onClick={() => pick(i)} className={`w-full text-left p-3 rounded-xl border-2 text-sm transition-all ${picked === null ? 'bg-white border-slate-300 hover:border-indigo-400' : i === c.correct ? 'bg-emerald-100 border-emerald-400' : i === picked ? 'bg-rose-100 border-rose-400' : 'opacity-50'}`}>{opt}</button>
                        ))}
                    </div>
                    {picked !== null && picked === c.correct && <p className="text-emerald-700 mb-2 font-medium">¬°Exacto! {c.improvement}</p>}
                    {picked !== null && picked !== c.correct && <p className="text-rose-700 mb-2">No exactamente. La mejora clave fue: {c.improvement}</p>}
                    {picked !== null && <button onClick={next} className="px-4 py-2 bg-indigo-600 text-white rounded-lg">Siguiente ‚Üí</button>}
                </div>
            );
        };

        const IntruderGame = ({ data, onReset }) => {
            const [gi, setGi] = useState(0);
            const [picked, setPicked] = useState(null);
            const g = data.groups[gi];
            const pick = (i) => { if (picked !== null) return; setPicked(i); };
            const done = gi >= data.groups.length;

            if (done) return (
                <div className="text-center p-4 bg-emerald-50 rounded-xl border border-emerald-200">
                    <button onClick={onReset} className="px-4 py-2 bg-emerald-600 text-white rounded-lg">Reiniciar</button>
                </div>
            );

            return (
                <div>
                    <div className="flex flex-wrap gap-3 mb-4">
                        {g.items.map((item, i) => (
                            <button key={i} onClick={() => pick(i)} className={`px-4 py-3 rounded-xl border-2 text-sm font-medium transition-all ${picked === null ? 'bg-white hover:border-indigo-400' : i === g.intruder ? 'bg-amber-100 border-amber-400' : i === picked ? 'bg-rose-100 border-rose-400' : 'opacity-50'}`}>{item}</button>
                        ))}
                    </div>
                    {picked !== null && picked === g.intruder && <p className="text-emerald-700 font-medium mb-2">¬°Correcto! {g.reason}</p>}
                    {picked !== null && picked !== g.intruder && <p className="text-rose-700 mb-2">Ese s√≠ lo pod√©s compartir. El intruso era: <strong>{g.items[g.intruder]}</strong>. {g.reason}</p>}
                    {picked !== null && <button onClick={() => {setPicked(null); setGi(i=>i+1)}} className="px-4 py-2 bg-indigo-600 text-white rounded-lg">Siguiente ‚Üí</button>}
                </div>
            );
        };

        const ChallengesSection = () => {
            const [activeChallenge, setActiveChallenge] = useState(null);
            const [resetKey, setResetKey] = useState(0);
            const challenge = challengesData.find(c => c.id === activeChallenge);

            if (activeChallenge && challenge) {
                return (
                    <div className="max-w-3xl mx-auto">
                        <button onClick={() => setActiveChallenge(null)} className="flex items-center gap-2 text-indigo-600 hover:underline mb-4">
                            <ChevronLeft className="w-4 h-4" /> Volver a desaf√≠os
                        </button>
                        <div className="bg-white rounded-2xl shadow-md border border-slate-200 p-6">
                            <h3 className="text-xl font-bold mb-1">{challenge.title}</h3>
                            <p className="text-slate-600 mb-6">{challenge.description}</p>
                            {challenge.type === 'memoryPairs' && <MemoryPairsGame data={challenge} onReset={() => setResetKey(k => k + 1)} key={resetKey} />}
                            {challenge.type === 'spotDifference' && <SpotDifferenceGame data={challenge} onReset={() => setResetKey(k => k + 1)} key={resetKey} />}
                            {challenge.type === 'intruder' && <IntruderGame data={challenge} onReset={() => setResetKey(k => k + 1)} key={resetKey} />}
                        </div>
                    </div>
                );
            }

            return (
                <div className="max-w-3xl mx-auto">
                    <div className="bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl p-6 mb-6 border border-amber-200">
                        <h3 className="text-xl font-bold text-amber-800 mb-2 flex items-center gap-2"><Zap className="w-5 h-5" /> Entrenando el motor</h3>
                        <p className="text-amber-900">Ejercicios breves para agarrarle la mano a la IA. Son opcionales, como un crucigrama de domingo.</p>
                    </div>
                    <div className="grid md:grid-cols-2 gap-4">
                        {challengesData.map(ch => (
                            <button key={ch.id} onClick={() => { setActiveChallenge(ch.id); setResetKey(k => k + 1); }} className="text-left bg-white rounded-xl p-5 border-2 border-slate-200 hover:border-indigo-400 transition-all">
                                <h4 className="font-bold text-slate-800 mb-1">{ch.title}</h4>
                                <p className="text-sm text-slate-600">{ch.description}</p>
                            </button>
                        ))}
                    </div>
                </div>
            );
        };

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // VISTAS PRINCIPALES: Historias y Gimnasio
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        const StoryPlayer = ({ story, onBack }) => {
            const [step, setStep] = useState(0);
            const [copied, setCopied] = useState(false);
            const visibleMsgs = story.conversation.slice(0, step + 1);
            const roleColor = { usuario: 'bg-slate-100 border-slate-300', ia: 'bg-indigo-50 border-indigo-200 text-indigo-900', ajuste: 'bg-amber-50 border-amber-200 text-amber-900', alerta: 'bg-rose-50 border-rose-200 text-rose-900', resultado: 'bg-emerald-50 border-emerald-200 text-emerald-900' };

            return (
                <div className="max-w-3xl mx-auto">
                    <button onClick={onBack} className="flex items-center gap-2 text-indigo-600 hover:underline mb-4"><ChevronLeft className="w-4 h-4" /> Volver</button>
                    <div className="bg-white rounded-2xl shadow-md border border-slate-200 p-6 mb-6">
                        <h3 className="text-xl font-bold mb-1">{story.title}</h3>
                        <p className="text-sm text-slate-500 mb-4">{story.focus} ‚Äî {story.context}</p>
                        <div className="space-y-3 mb-6">
                            {visibleMsgs.map((msg, i) => (
                                <div key={i} className={`p-4 rounded-xl border-2 ${roleColor[msg.role]}`}>
                                    <p className="text-xs font-bold uppercase mb-1 opacity-70">{msg.role === 'ia' ? 'Asistente' : msg.role}</p>
                                    <p>{msg.text}</p>
                                </div>
                            ))}
                        </div>
                        {step < story.conversation.length - 1 ? (
                            <button onClick={() => setStep(s => s + 1)} className="px-6 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 font-medium">Siguiente paso ‚Üí</button>
                        ) : (
                            <div className="bg-sky-50 rounded-xl p-5 border border-sky-200">
                                <p className="font-bold text-sky-800 mb-2">üìã Prompt reutilizable</p>
                                <p className="text-sky-900 italic mb-3">"{story.reusablePrompt}"</p>
                                <button onClick={() => { navigator.clipboard.writeText(story.reusablePrompt); setCopied(true); setTimeout(() => setCopied(false), 2000); }} className="flex items-center gap-2 px-4 py-2 bg-sky-600 text-white rounded-lg">
                                    {copied ? <><Check className="w-4 h-4" /> Copiado</> : <><Copy className="w-4 h-4" /> Copiar prompt</>}
                                </button>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const PromptGym = () => {
            const [level, setLevel] = useState(null);
            const [activePrompt, setActivePrompt] = useState(null);
            const [copied, setCopied] = useState(false);

            const currentPrompts = promptItems.filter(p => p.level === level);
            const active = promptItems.find(p => p.id === activePrompt);

            if (!level) return (
                <div className="max-w-3xl mx-auto">
                    <div className="bg-gradient-to-br from-indigo-50 to-sky-50 rounded-2xl p-6 mb-6 border border-indigo-200">
                        <h3 className="text-xl font-bold text-indigo-800 mb-2 flex items-center gap-2"><Target className="w-5 h-5" /> Gimnasio de Prompts</h3>
                        <p className="text-indigo-900">Eleg√≠ el nivel de tu proyecto. Cada ejemplo te muestra qu√© evitar (el "prompt d√©bil") y la versi√≥n calibrada lista para usar.</p>
                    </div>
                    <div className="space-y-4">
                        {promptLevels.map(pl => (
                            <button key={pl.id} onClick={() => setLevel(pl.id)} className="w-full text-left bg-white rounded-xl p-5 border-2 border-slate-200 hover:border-indigo-400 hover:shadow-md transition-all">
                                <h4 className="font-bold text-slate-800">{pl.label}</h4>
                                <p className="text-sm text-slate-600">{pl.hint}</p>
                            </button>
                        ))}
                    </div>
                </div>
            );

            if (active) return (
                <div className="max-w-3xl mx-auto">
                    <button onClick={() => setActivePrompt(null)} className="flex items-center gap-2 text-indigo-600 hover:underline mb-4"><ChevronLeft className="w-4 h-4" /> Volver</button>
                    <div className="bg-white rounded-2xl shadow-md border border-slate-200 p-6 space-y-6">
                        <div>
                            <p className="text-xs font-bold text-indigo-600 uppercase">{active.domain}</p>
                            <h3 className="text-xl font-bold text-slate-800">{active.title}</h3>
                            <p className="text-slate-600">{active.objective}</p>
                        </div>
                        <div className="bg-rose-50 rounded-xl p-5 border border-rose-200">
                            <p className="text-xs font-bold text-rose-600 mb-2">‚ùå Prompt d√©bil</p>
                            <p className="text-rose-900 italic mb-2">"{active.badPrompt}"</p>
                            <p className="text-sm text-rose-700">{active.badReason}</p>
                        </div>
                        <div className="bg-emerald-50 rounded-xl p-5 border border-emerald-200">
                            <p className="text-xs font-bold text-emerald-600 mb-2">‚úÖ Prompt robusto</p>
                            <p className="text-emerald-900 italic text-sm mb-3">"{active.enhancedPrompt}"</p>
                            <button onClick={() => { navigator.clipboard.writeText(active.enhancedPrompt); setCopied(true); setTimeout(() => setCopied(false), 2000); }} className="flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700">
                                {copied ? <><Check className="w-4 h-4" /> Copiado</> : <><Copy className="w-4 h-4" /> Copiar prompt</>}
                            </button>
                        </div>
                        <div className="bg-sky-50 rounded-xl p-4 border border-sky-200">
                            <p className="text-xs font-bold text-sky-600 mb-1">üí° ¬øPor qu√© funciona?</p>
                            <p className="text-sm text-sky-900">{active.why}</p>
                        </div>
                    </div>
                </div>
            );

            return (
                <div className="max-w-3xl mx-auto">
                    <button onClick={() => setLevel(null)} className="flex items-center gap-2 text-indigo-600 hover:underline mb-4"><ChevronLeft className="w-4 h-4" /> Elegir otro nivel</button>
                    <h3 className="text-lg font-bold text-slate-800 mb-4">{promptLevels.find(p => p.id === level)?.label}</h3>
                    <div className="grid gap-3">
                        {currentPrompts.map(p => (
                            <button key={p.id} onClick={() => setActivePrompt(p.id)} className="text-left bg-white rounded-xl p-4 border-2 border-slate-200 hover:border-indigo-400 transition-all">
                                <p className="text-xs text-indigo-600 font-bold">{p.domain}</p>
                                <h4 className="font-bold text-slate-800">{p.title}</h4>
                            </button>
                        ))}
                    </div>
                </div>
            );
        };

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // APP CONTENEDOR
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        const App = () => {
            const [view, setView] = useState('theory');
            const [moduleIndex, setModuleIndex] = useState(0);
            const [activeStory, setActiveStory] = useState(null);
            const mod = theoryModules[moduleIndex];

            const tabs = [
                { id: 'theory', label: 'Teor√≠a', icon: <BookOpen className="w-4 h-4" /> },
                { id: 'gym', label: 'Gimnasio', icon: <Target className="w-4 h-4" /> },
                { id: 'stories', label: 'Historias', icon: <MessageCircle className="w-4 h-4" /> },
                { id: 'challenges', label: 'Desaf√≠os', icon: <Sparkles className="w-4 h-4" /> }
            ];

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-50 to-indigo-50">
                    <header className="sticky top-0 z-50 bg-white/90 backdrop-blur-lg border-b border-slate-200 shadow-sm">
                        <div className="max-w-5xl mx-auto px-4 py-3">
                            <div className="flex items-center gap-3 mb-3">
                                <div className="w-10 h-10 bg-gradient-to-br from-indigo-600 to-sky-600 rounded-xl flex items-center justify-center shadow-md">
                                    <BrainCircuit className="w-6 h-6 text-white" />
                                </div>
                                <div>
                                    <h1 className="text-lg font-extrabold text-slate-800 leading-tight">El Galp√≥n de la IA</h1>
                                    <p className="text-xs text-slate-500">Herramientas pr√°cticas para el taller, el campo y la familia</p>
                                </div>
                            </div>
                            <div className="flex gap-1 overflow-x-auto">
                                {tabs.map(tab => (
                                    <button key={tab.id} onClick={() => { setView(tab.id); setActiveStory(null); }} className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${view === tab.id ? 'bg-indigo-600 text-white shadow-md' : 'text-slate-600 hover:bg-slate-100'}`}>
                                        {tab.icon} {tab.label}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </header>

                    <main className="max-w-5xl mx-auto px-4 py-8">
                        {view === 'theory' && (
                            <div className="flex flex-col md:flex-row gap-6">
                                <aside className="hidden md:block md:w-64 flex-shrink-0">
                                    <div className="sticky top-32 space-y-1">
                                        <p className="text-xs font-bold text-slate-400 uppercase mb-2">M√≥dulos</p>
                                        {theoryModules.map((m, i) => (
                                            <button key={m.id} onClick={() => setModuleIndex(i)} className={`w-full text-left px-3 py-2 rounded-lg text-sm transition-all ${i === moduleIndex ? 'bg-indigo-100 text-indigo-800 font-bold border-l-4 border-indigo-500' : 'text-slate-600 hover:bg-slate-100'}`}>
                                                <span className="text-xs text-slate-400 mr-1">{i + 1}.</span> {m.title}
                                            </button>
                                        ))}
                                    </div>
                                </aside>
                                <div className="md:hidden mb-4">
                                    <select value={moduleIndex} onChange={e => setModuleIndex(Number(e.target.value))} className="w-full p-3 rounded-xl border-2 border-slate-300 bg-white text-slate-800 font-medium">
                                        {theoryModules.map((m, i) => <option key={m.id} value={i}>{i + 1}. {m.title}</option>)}
                                    </select>
                                </div>
                                <div className="flex-1 max-w-3xl">
                                    <div className="bg-white rounded-2xl shadow-md border border-slate-200 p-6 md:p-8">
                                        <h2 className="text-2xl font-extrabold text-slate-800 mb-1">{mod.title}</h2>
                                        <p className="text-slate-500 mb-6">{mod.subtitle}</p>
                                        <div className="space-y-4 text-slate-700 leading-relaxed mb-8">
                                            {mod.reading.map((para, i) => <p key={i}>{para}</p>)}
                                        </div>
                                        <div className="bg-indigo-50 rounded-xl p-5 border border-indigo-200 mb-6">
                                            <h4 className="font-bold text-indigo-800 mb-3 flex items-center gap-2"><CheckCircle2 className="w-4 h-4" /> Checklist</h4>
                                            <ul className="space-y-2">
                                                {mod.checklist.map((item, i) => <li key={i} className="flex items-start gap-2 text-indigo-900"><CheckCircle2 className="w-4 h-4 text-indigo-500 mt-1 flex-shrink-0" /><span>{item}</span></li>)}
                                            </ul>
                                        </div>
                                        <div className="bg-amber-50 rounded-xl p-5 border border-amber-200 mb-8">
                                            <h4 className="font-bold text-amber-800 mb-2 flex items-center gap-2"><Lightbulb className="w-4 h-4" /> Pr√°ctica sugerida</h4>
                                            <p className="text-amber-900">{mod.practice}</p>
                                        </div>
                                        <div className="flex justify-between gap-4">
                                            <button onClick={() => setModuleIndex(i => Math.max(0, i - 1))} disabled={moduleIndex === 0} className="px-4 py-2 rounded-lg bg-slate-100 text-slate-700 disabled:opacity-30">Anterior</button>
                                            {moduleIndex < theoryModules.length - 1 ? (
                                                <button onClick={() => setModuleIndex(i => i + 1)} className="px-4 py-2 rounded-lg bg-indigo-600 text-white">Siguiente</button>
                                            ) : (
                                                <button onClick={() => setView('gym')} className="px-5 py-2 rounded-lg bg-emerald-600 text-white font-medium flex gap-2 items-center">Ir al Gimnasio <ArrowUpRight className="w-4 h-4"/></button>
                                            )}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {view === 'gym' && <PromptGym />}
                        {view === 'challenges' && <ChallengesSection />}
                        {view === 'stories' && (
                            activeStory ? <StoryPlayer story={activeStory} onBack={() => setActiveStory(null)} /> : (
                                <div>
                                    <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 mb-6 border border-purple-200 max-w-3xl mx-auto">
                                        <h3 className="text-xl font-bold text-purple-800 mb-2 flex items-center gap-2"><MessageCircle className="w-5 h-5" /> Historias de uso</h3>
                                        <p className="text-purple-900">Casos reales que muestran c√≥mo mejorar la charla con la IA paso a paso, con el prompt final para copiar.</p>
                                    </div>
                                    <div className="grid gap-4 md:grid-cols-2 max-w-4xl mx-auto">
                                        {stories.map(s => (
                                            <button key={s.id} onClick={() => setActiveStory(s)} className="text-left bg-white rounded-xl p-5 border-2 border-slate-200 hover:border-indigo-400 transition-all">
                                                <h4 className="font-bold text-slate-800 mb-1">{s.title}</h4>
                                                <p className="text-sm text-slate-500 mb-2">{s.focus}</p>
                                                <p className="text-sm text-slate-600 line-clamp-2">{s.context}</p>
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            )
                        )}
                    </main>

                    <footer className="bg-white border-t border-slate-200 mt-12">
                        <div className="max-w-5xl mx-auto px-4 py-6 text-center text-slate-500 text-sm">
                            <p className="font-medium">El Galp√≥n de la IA ‚Äî Herramientas para la vida real</p>
                        </div>
                    </footer>
                </div>
            );
        };

        createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
